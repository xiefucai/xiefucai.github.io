<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8"/>
<title>javascript在线代码编辑器</title>
<meta name="Description" content="这里填写本网页的摘要内容" />
<meta name="Keywords" content="seo关键词" />
<style>
body{max-width:960px;margin:0 auto;}
h2{font-size:18px;border-bottom:1px solid #ccc;padding:10px 0;}
a{color:#090;text-decoration:underline;margin:0 3px;}
p{font-size:14px;line-height:1.75;text-indent:2em;}
.paratable{border-collapse:collapse;border:1px solid #eee;color:#333;font-size:12px;margin-bottom:15px;}
.paratable th,.paratable td{border-color:#eee;}
.paratable .s2{display:none;}
.ace_editor{height:500px;border:1px solid #999;}
.btn-runner{
display:inline-block;width:100px;height:30px;line-height:30px;text-align:center;border-radius:3px;text-decoration:none;
color:#fff;border:1px solid #81BA2F;
background-image: -ms-linear-gradient(top, #C5E59D 0%, #90C14C 100%);
background-image: -moz-linear-gradient(top, #C5E59D 0%, #90C14C 100%);
background-image: -o-linear-gradient(top, #C5E59D 0%, #90C14C 100%);
background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #C5E59D), color-stop(1, #90C14C));
background-image: -webkit-linear-gradient(top, #C5E59D 0%, #90C14C 100%);
background-image: linear-gradient(to bottom, #C5E59D 0%, #90C14C 100%);
}
.footer{margin:20px auto;font-size:12px;}
</style>
<script type="text/javascript" src="http://mat1.gtimg.com/app/vt/js/read/import.js" charset="utf-8"></script>
</head>
<body>
<pre id="editor1">&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;meta charset="UTF-8"/&gt;
	&lt;title&gt;test&lt;/title&gt;
	&lt;meta name="Keywords" content="seo关键词" /&gt;
	&lt;meta name="Description" content="这里填写本网页的摘要内容" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
<div>
	<a href="javascript:;" id="runner1" class="btn-runner">运行</a>
</div>
<script src="http://ajaxorg.github.io/ace/build/src-min-noconflict/ace.js"></script>
<script src="http://ajaxorg.github.io/ace/build/src-min-noconflict/ext-static_highlight.js"></script>
<script>
	(function(){
	    var editor = ace.edit("editor1"),
	    	setRunner = function(btn,elem){
	    		btn.onclick = function(){
	    			var  winname = window.open('', "_blank", '');
				     winname.document.open('text/html', 'replace');
				     winname.document.write(elem.getValue());
				     winname.document.close();
	    		}
	    	},
	    	ext = "html",
	    	theme = {"js":"javascript","php":"php","html":"html"}[ext] || ext;
		    //editor.setTheme("ace/theme/monokai");
		    editor.setTheme("ace/theme/chrome");
		    editor.getSession().setMode("ace/mode/"+theme);
		    editor.onBlur = function(){
		    	if (window.localStorage){
		    		localStorage.setItem('editorValue',editor.getValue());
		    	}
		    }
		    setRunner(document.getElementById('runner1'),editor);
		    if (window.localStorage){
		    	if (localStorage.getItem('editorValue')){
		    		editor.setValue(localStorage.getItem('editorValue'));
		    	}
	    	}
	})();
</script>
</body>
</html>