<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<title>电影搜索</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
	<!-- http://cloud.d5dm.com/api/?callback=jQuery182011199382459744811_1400751015973&ap=dht&kw=%E5%8F%8B%E6%83%85%E5%A4%A7%E4%BD%9C%E6%88%B0&_=1400751016058 -->
</head>
<body>
<form id="form"><input type="text" placeholder="请输入电影名称" name="key"/><input type="button" value="搜索" name="button"/></form>
<dl id="list"></dl>
</body>
<script type="text/javascript" src="http://mat1.gtimg.com/app/opent/js/jquery-1.4.3.min.js"></script>
<script>
var renderList = function(list){
	var elem = $('#list');
	elem.html('');
	for(var i=0,k=list.length;i<k;i++){
		elem.append('<dt>'+list[i]['title']+'</dt>');
		elem.append('<dd>'+list[i]['size']+'<a href="http://www.peiluyou.com/frames/dowwload.task.html?url='+encodeURIComponent(list[i]['magnet'])+'">下载</a></dd>');
	}
};
$(function(){
	var form = $('#form')[0],
		appScript;
	$('#button').bind('click',function(){
		var key = $.trim(form['key'].value);
		if (key){
			if (!appScript){
				appScript = $('<script><\/script>').appendTo($('body'));
				appScript[0].type='text/javascript';
			}
			appScript[0].src = 'http://cloud.d5dm.com/api/?callback=renderList&ap=dht&kw='+encodeURIComponent(key)+'&_='+(+new Date());
		}
	});
});
</script>
</html>